@using picSimu.Simulation.Registers

<input type="text" maxlength="2" class="@Class" title="@Value.ToolTip" 
       value="@_value" @oninput="@OnInputChange" @onchange="@OnChange">

@code {
    private string _value { get; set; }

    private Register _register;
    
    [Parameter]
    public Register Value
    {
        get => _register;
        set
        {
            _register = value;
            _value = value.Value;
        }
    }

    [Parameter]
    public string Class { get; set; }

    [Parameter]
    public EventCallback<Register> ValueChanged { get; set; }

    private async Task OnInputChange(ChangeEventArgs args)
    {
        _value = (string) args.Value;
    }

    private async Task OnChange(ChangeEventArgs args)
    {
        Value.Value = (string) args.Value;
        _value = Value.Value;
        await ValueChanged.InvokeAsync(Value);
    }

}